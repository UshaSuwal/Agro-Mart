(()=>{var Bn=Object.create;var Tt=Object.defineProperty;var jn=Object.getOwnPropertyDescriptor;var zn=Object.getOwnPropertyNames;var Vn=Object.getPrototypeOf,Wn=Object.prototype.hasOwnProperty;var Nt=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var Un=(e,t,n,i)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of zn(t))!Wn.call(e,o)&&o!==n&&Tt(e,o,{get:()=>t[o],enumerable:!(i=jn(t,o))||i.enumerable});return e};var Gn=(e,t,n)=>(n=e!=null?Bn(Vn(e)):{},Un(t||!e||!e.__esModule?Tt(n,"default",{value:e,enumerable:!0}):n,e));var Jt=Nt((ro,Xt)=>{var fi=Xt.exports=function(e){this.top=e.top,this.left=e.left,this.width=e.width,this.spacing=e.spacing,this.targetRowHeight=e.targetRowHeight,this.targetRowHeightTolerance=e.targetRowHeightTolerance,this.minAspectRatio=this.width/e.targetRowHeight*(1-e.targetRowHeightTolerance),this.maxAspectRatio=this.width/e.targetRowHeight*(1+e.targetRowHeightTolerance),this.edgeCaseMinRowHeight=e.edgeCaseMinRowHeight,this.edgeCaseMaxRowHeight=e.edgeCaseMaxRowHeight,this.widowLayoutStyle=e.widowLayoutStyle,this.isBreakoutRow=e.isBreakoutRow,this.items=[],this.height=0};fi.prototype={addItem:function(e){var t=this.items.concat(e),n=this.width-(t.length-1)*this.spacing,i=t.reduce(function(a,c){return a+c.aspectRatio},0),o=n/this.targetRowHeight,r,s,l;return this.isBreakoutRow&&this.items.length===0&&e.aspectRatio>=1?(this.items.push(e),this.completeLayout(n/e.aspectRatio,"justify"),!0):i<this.minAspectRatio?(this.items.push(Object.assign({},e)),!0):i>this.maxAspectRatio?this.items.length===0?(this.items.push(Object.assign({},e)),this.completeLayout(n/i,"justify"),!0):(r=this.width-(this.items.length-1)*this.spacing,s=this.items.reduce(function(a,c){return a+c.aspectRatio},0),l=r/this.targetRowHeight,Math.abs(i-o)>Math.abs(s-l)?(this.completeLayout(r/s,"justify"),!1):(this.items.push(Object.assign({},e)),this.completeLayout(n/i,"justify"),!0)):(this.items.push(Object.assign({},e)),this.completeLayout(n/i,"justify"),!0)},isLayoutComplete:function(){return this.height>0},completeLayout:function(e,t){var n=this.left,i=this.width-(this.items.length-1)*this.spacing,o,r,s,l,a,c;(typeof t>"u"||["justify","center","left"].indexOf(t)<0)&&(t="left"),r=Math.max(this.edgeCaseMinRowHeight,Math.min(e,this.edgeCaseMaxRowHeight)),e!==r?(this.height=r,o=i/r/(i/e)):(this.height=e,o=1),this.items.forEach(function(m){m.top=this.top,m.width=m.aspectRatio*this.height*o,m.height=this.height,m.left=n,n+=m.width+this.spacing},this),t==="justify"?(n-=this.spacing+this.left,s=(n-this.width)/this.items.length,l=this.items.map(function(m,u){return Math.round((u+1)*s)}),this.items.length===1?(a=this.items[0],a.width-=Math.round(s)):this.items.forEach(function(m,u){u>0?(m.left-=l[u-1],m.width-=l[u]-l[u-1]):m.width-=l[u]})):t==="center"&&(c=(this.width-n)/2,this.items.forEach(function(m){m.left+=c+this.spacing},this))},forceComplete:function(e,t){typeof t=="number"?this.completeLayout(t,this.widowLayoutStyle):this.completeLayout(this.targetRowHeight,this.widowLayoutStyle)},getItems:function(){return this.items}}});var Qt=Nt((so,Kt)=>{"use strict";var di=Jt();function bt(e,t){var n;return e.fullWidthBreakoutRowCadence!==!1&&(t._rows.length+1)%e.fullWidthBreakoutRowCadence===0&&(n=!0),new di({top:t._containerHeight,left:e.containerPadding.left,width:e.containerWidth-e.containerPadding.left-e.containerPadding.right,spacing:e.boxSpacing.horizontal,targetRowHeight:e.targetRowHeight,targetRowHeightTolerance:e.targetRowHeightTolerance,edgeCaseMinRowHeight:.5*e.targetRowHeight,edgeCaseMaxRowHeight:2*e.targetRowHeight,rightToLeft:!1,isBreakoutRow:n,widowLayoutStyle:e.widowLayoutStyle})}function yt(e,t,n){return t._rows.push(n),t._layoutItems=t._layoutItems.concat(n.getItems()),t._containerHeight+=n.height+e.boxSpacing.vertical,n.items}function mi(e,t,n){var i=[],o,r,s;return e.forceAspectRatio&&n.forEach(function(l){l.forcedAspectRatio=!0,l.aspectRatio=e.forceAspectRatio}),n.some(function(l,a){if(isNaN(l.aspectRatio))throw new Error("Item "+a+" has an invalid aspect ratio");if(r||(r=bt(e,t)),o=r.addItem(l),r.isLayoutComplete()){if(i=i.concat(yt(e,t,r)),t._rows.length>=e.maxNumRows)return r=null,!0;if(r=bt(e,t),!o&&(o=r.addItem(l),r.isLayoutComplete())){if(i=i.concat(yt(e,t,r)),t._rows.length>=e.maxNumRows)return r=null,!0;r=bt(e,t)}}}),r&&r.getItems().length&&e.showWidows&&(t._rows.length?(t._rows[t._rows.length-1].isBreakoutRow?s=t._rows[t._rows.length-1].targetRowHeight:s=t._rows[t._rows.length-1].height,r.forceComplete(!1,s)):r.forceComplete(!1),i=i.concat(yt(e,t,r)),e._widowCount=r.getItems().length),t._containerHeight=t._containerHeight-e.boxSpacing.vertical,t._containerHeight=t._containerHeight+e.containerPadding.bottom,{containerHeight:t._containerHeight,widowCount:e._widowCount,boxes:t._layoutItems}}Kt.exports=function(e,t){var n={},i={},o={containerWidth:1060,containerPadding:10,boxSpacing:10,targetRowHeight:320,targetRowHeightTolerance:.25,maxNumRows:Number.POSITIVE_INFINITY,forceAspectRatio:!1,showWidows:!0,fullWidthBreakoutRowCadence:!1,widowLayoutStyle:"left"},r={},s={};return t=t||{},n=Object.assign(o,t),r.top=isNaN(parseFloat(n.containerPadding.top))?n.containerPadding:n.containerPadding.top,r.right=isNaN(parseFloat(n.containerPadding.right))?n.containerPadding:n.containerPadding.right,r.bottom=isNaN(parseFloat(n.containerPadding.bottom))?n.containerPadding:n.containerPadding.bottom,r.left=isNaN(parseFloat(n.containerPadding.left))?n.containerPadding:n.containerPadding.left,s.horizontal=isNaN(parseFloat(n.boxSpacing.horizontal))?n.boxSpacing:n.boxSpacing.horizontal,s.vertical=isNaN(parseFloat(n.boxSpacing.vertical))?n.boxSpacing:n.boxSpacing.vertical,n.containerPadding=r,n.boxSpacing=s,i._layoutItems=[],i._awakeItems=[],i._inViewportItems=[],i._leadingOrphans=[],i._trailingOrphans=[],i._containerHeight=n.containerPadding.top,i._rows=[],i._orphans=[],n._widowCount=0,mi(n,i,e.map(function(l){return l.width&&l.height?{aspectRatio:l.width/l.height}:{aspectRatio:l}}))}});function U(){}var fe=e=>e;function Oe(e,t){for(let n in t)e[n]=t[n];return e}function ft(e){return e()}function At(){return Object.create(null)}function K(e){e.forEach(ft)}function Me(e){return typeof e=="function"}function $(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}var Ge;function Pe(e,t){return Ge||(Ge=document.createElement("a")),Ge.href=t,e===Ge.href}function Dt(e){return Object.keys(e).length===0}function dt(e,...t){if(e==null)return U;let n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function Re(e,t,n){e.$$.on_destroy.push(dt(t,n))}function ae(e,t,n){return e.set(n),t}var qt=typeof window<"u",mt=qt?()=>window.performance.now():()=>Date.now(),ht=qt?e=>requestAnimationFrame(e):U;var xe=new Set;function Ht(e){xe.forEach(t=>{t.c(e)||(xe.delete(t),t.f())}),xe.size!==0&&ht(Ht)}function pt(e){let t;return xe.size===0&&ht(Ht),{promise:new Promise(n=>{xe.add(t={c:e,f:n})}),abort(){xe.delete(t)}}}var Bt=!1;function Yn(){Bt=!0}function Xn(){Bt=!1}function p(e,t){e.appendChild(t)}function jt(e){if(!e)return document;let t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function Jn(e){let t=_("style");return Kn(jt(e),t),t.sheet}function Kn(e,t){p(e.head||e,t)}function x(e,t,n){e.insertBefore(t,n||null)}function F(e){e.parentNode.removeChild(e)}function zt(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function _(e){return document.createElement(e)}function Qn(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function T(e){return document.createTextNode(e)}function M(){return T(" ")}function ce(){return T("")}function G(e,t,n,i){return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n,i)}function d(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function Zn(e){return Array.from(e.childNodes)}function L(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function z(e,t,n,i){n===null?e.style.removeProperty(t):e.style.setProperty(t,n,i?"important":"")}function gt(e,t,n){e.classList[n?"add":"remove"](t)}function Vt(e,t,{bubbles:n=!1,cancelable:i=!1}={}){let o=document.createEvent("CustomEvent");return o.initCustomEvent(e,n,i,t),o}var Ke=class{constructor(t=!1){this.is_svg=!1,this.is_svg=t,this.e=this.n=null}c(t){this.h(t)}m(t,n,i=null){this.e||(this.is_svg?this.e=Qn(n.nodeName):this.e=_(n.nodeName),this.t=n,this.c(t)),this.i(i)}h(t){this.e.innerHTML=t,this.n=Array.from(this.e.childNodes)}i(t){for(let n=0;n<this.n.length;n+=1)x(this.t,this.n[n],t)}p(t){this.d(),this.h(t),this.i(this.a)}d(){this.n.forEach(F)}};var Qe=new Map,Ze=0;function $n(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}function ei(e,t){let n={stylesheet:Jn(t),rules:{}};return Qe.set(e,n),n}function ti(e,t,n,i,o,r,s,l=0){let a=16.666/i,c=`{
`;for(let k=0;k<=1;k+=a){let w=t+(n-t)*r(k);c+=k*100+`%{${s(w,1-w)}}
`}let m=c+`100% {${s(n,1-n)}}
}`,u=`__svelte_${$n(m)}_${l}`,h=jt(e),{stylesheet:f,rules:b}=Qe.get(h)||ei(h,e);b[u]||(b[u]=!0,f.insertRule(`@keyframes ${u} ${m}`,f.cssRules.length));let v=e.style.animation||"";return e.style.animation=`${v?`${v}, `:""}${u} ${i}ms linear ${o}ms 1 both`,Ze+=1,u}function ni(e,t){let n=(e.style.animation||"").split(", "),i=n.filter(t?r=>r.indexOf(t)<0:r=>r.indexOf("__svelte")===-1),o=n.length-i.length;o&&(e.style.animation=i.join(", "),Ze-=o,Ze||ii())}function ii(){ht(()=>{Ze||(Qe.forEach(e=>{let{stylesheet:t}=e,n=t.cssRules.length;for(;n--;)t.deleteRule(n);e.rules={}}),Qe.clear())})}var He;function qe(e){He=e}function $e(){if(!He)throw new Error("Function called outside component initialization");return He}function _t(e){$e().$$.before_update.push(e)}function pe(e){$e().$$.on_mount.push(e)}function wt(e){$e().$$.after_update.push(e)}function Be(){let e=$e();return(t,n,{cancelable:i=!1}={})=>{let o=e.$$.callbacks[t];if(o){let r=Vt(t,n,{cancelable:i});return o.slice().forEach(s=>{s.call(e,r)}),!r.defaultPrevented}return!0}}var De=[];var J=[],Xe=[],ct=[],oi=Promise.resolve(),ut=!1;function ri(){ut||(ut=!0,oi.then(Wt))}function Ee(e){Xe.push(e)}function Ce(e){ct.push(e)}var at=new Set,Ye=0;function Wt(){let e=He;do{for(;Ye<De.length;){let t=De[Ye];Ye++,qe(t),si(t.$$)}for(qe(null),De.length=0,Ye=0;J.length;)J.pop()();for(let t=0;t<Xe.length;t+=1){let n=Xe[t];at.has(n)||(at.add(n),n())}Xe.length=0}while(De.length);for(;ct.length;)ct.pop()();ut=!1,at.clear(),qe(e)}function si(e){if(e.fragment!==null){e.update(),K(e.before_update);let t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(Ee)}}var Le;function li(){return Le||(Le=Promise.resolve(),Le.then(()=>{Le=null})),Le}function Lt(e,t,n){e.dispatchEvent(Vt(`${t?"intro":"outro"}${n}`))}var Je=new Set,be;function oe(){be={r:0,c:[],p:be}}function re(){be.r||K(be.c),be=be.p}function R(e,t){e&&e.i&&(Je.delete(e),e.i(t))}function D(e,t,n,i){if(e&&e.o){if(Je.has(e))return;Je.add(e),be.c.push(()=>{Je.delete(e),i&&(n&&e.d(1),i())}),e.o(t)}else i&&i()}var ai={duration:0};function Ut(e,t,n){let i=t(e,n),o=!0,r,s=be;s.r+=1;function l(){let{delay:a=0,duration:c=300,easing:m=fe,tick:u=U,css:h}=i||ai;h&&(r=ti(e,1,0,c,a,m,h));let f=mt()+a,b=f+c;Ee(()=>Lt(e,!1,"start")),pt(v=>{if(o){if(v>=b)return u(0,1),Lt(e,!1,"end"),--s.r||K(s.c),!1;if(v>=f){let k=m((v-f)/c);u(1-k,k)}}return o})}return Me(i)?li().then(()=>{i=i(),l()}):l(),{end(a){a&&i.tick&&i.tick(1,0),o&&(r&&ni(e,r),o=!1)}}}var et=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function Gt(e,t){let n={},i={},o={$$scope:1},r=e.length;for(;r--;){let s=e[r],l=t[r];if(l){for(let a in s)a in l||(i[a]=1);for(let a in l)o[a]||(n[a]=l[a],o[a]=1);e[r]=l}else for(let a in s)o[a]=1}for(let s in i)s in n||(n[s]=void 0);return n}function Yt(e){return typeof e=="object"&&e!==null?e:{}}function Te(e,t,n){let i=e.$$.props[t];i!==void 0&&(e.$$.bound[i]=n,n(e.$$.ctx[i]))}function ge(e){e&&e.c()}function de(e,t,n,i){let{fragment:o,on_mount:r,on_destroy:s,after_update:l}=e.$$;o&&o.m(t,n),i||Ee(()=>{let a=r.map(ft).filter(Me);s?s.push(...a):K(a),e.$$.on_mount=[]}),l.forEach(Ee)}function ue(e,t){let n=e.$$;n.fragment!==null&&(K(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function ci(e,t){e.$$.dirty[0]===-1&&(De.push(e),ri(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function te(e,t,n,i,o,r,s,l=[-1]){let a=He;qe(e);let c=e.$$={fragment:null,ctx:null,props:r,update:U,not_equal:o,bound:At(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(a?a.$$.context:[])),callbacks:At(),dirty:l,skip_bound:!1,root:t.target||a.$$.root};s&&s(c.root);let m=!1;if(c.ctx=n?n(e,t.props||{},(u,h,...f)=>{let b=f.length?f[0]:h;return c.ctx&&o(c.ctx[u],c.ctx[u]=b)&&(!c.skip_bound&&c.bound[u]&&c.bound[u](b),m&&ci(e,u)),h}):[],c.update(),m=!0,K(c.before_update),c.fragment=i?i(c.ctx):!1,t.target){if(t.hydrate){Yn();let u=Zn(t.target);c.fragment&&c.fragment.l(u),u.forEach(F)}else c.fragment&&c.fragment.c();t.intro&&R(e.$$.fragment),de(e,t.target,t.anchor,t.customElement),Xn(),Wt()}qe(a)}var ui;typeof HTMLElement=="function"&&(ui=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){let{on_mount:e}=this.$$;this.$$.on_disconnect=e.map(ft).filter(Me);for(let t in this.$$.slotted)this.appendChild(this.$$.slotted[t])}attributeChangedCallback(e,t,n){this[e]=n}disconnectedCallback(){K(this.$$.on_disconnect)}$destroy(){ue(this,1),this.$destroy=U}$on(e,t){let n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{let i=n.indexOf(t);i!==-1&&n.splice(i,1)}}$set(e){this.$$set&&!Dt(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}});var Z=class{$destroy(){ue(this,1),this.$destroy=U}$on(t,n){let i=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return i.push(n),()=>{let o=i.indexOf(n);o!==-1&&i.splice(o,1)}}$set(t){this.$$set&&!Dt(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}};var Rn=Gn(Qt(),1);function Zt(e){let t;return{c(){t=_("div"),d(t,"class","selected svelte-qd248k")},m(n,i){x(n,t,i)},d(n){n&&F(t)}}}function hi(e){let t,n,i,o,r,s,l,a,c,m,u=e[4]&&Zt(e);return{c(){t=_("div"),n=_("div"),i=_("img"),r=M(),s=_("div"),l=T(e[2]),a=T(" \xD7 "),c=T(e[3]),m=M(),u&&u.c(),d(i,"class","image svelte-qd248k"),d(i,"loading","lazy"),Pe(i.src,o=e[0])||d(i,"src",o),d(i,"alt",e[1]),d(s,"class","dimensions svelte-qd248k"),d(n,"class","img-wrapper svelte-qd248k"),z(n,"background-color",e[5]),z(n,"height","100%"),d(t,"class","image-container svelte-qd248k")},m(h,f){x(h,t,f),p(t,n),p(n,i),p(n,r),p(n,s),p(s,l),p(s,a),p(s,c),p(n,m),u&&u.m(n,null)},p(h,[f]){f&1&&!Pe(i.src,o=h[0])&&d(i,"src",o),f&2&&d(i,"alt",h[1]),f&4&&L(l,h[2]),f&8&&L(c,h[3]),h[4]?u||(u=Zt(h),u.c(),u.m(n,null)):u&&(u.d(1),u=null),f&32&&z(n,"background-color",h[5])},i:U,o:U,d(h){h&&F(t),u&&u.d()}}}function pi(e,t,n){let{src:i}=t,{alt:o=""}=t,{width:r="440"}=t,{height:s="1200"}=t,{selected:l=!1}=t,{bg_color:a}=t;return e.$$set=c=>{"src"in c&&n(0,i=c.src),"alt"in c&&n(1,o=c.alt),"width"in c&&n(2,r=c.width),"height"in c&&n(3,s=c.height),"selected"in c&&n(4,l=c.selected),"bg_color"in c&&n(5,a=c.bg_color)},[i,o,r,s,l,a]}var vt=class extends Z{constructor(t){super(),te(this,t,pi,hi,$,{src:0,alt:1,width:2,height:3,selected:4,bg_color:5})}},$t=vt;var tt={maptiles:"https://tiles.search.brave.com/maptiles",production:!0,watch_mode:!1};var po=(()=>{if(typeof window>"u")return{};let e=window?.document?.getElementById("js-shared")?.getAttribute("data");if(!e)return{};try{return JSON.parse(e)}catch{return{}}})(),go=tt.production?()=>{}:console.log,_o=tt.production?()=>{}:console.error;function en(){if(document.cookie){let e=document.cookie.split(";").map(n=>n.trim()).map(n=>n.split("=")),t={};for(let n=0;n<e.length;n+=1){let[i,o]=e[n];t[i]=o}return t}return{}}function tn(e,t,n,i=!1){if(t&&t.length>100)return;let o="";if(n){let s=new Date;s.setTime(s.getTime()+n*24*60*60*1e3),o=`; expires=${s.toUTCString()}`}else i?o="":o="; expires=Tue, 19 Jan 2038 03:14:07 GMT";let r=tt.watch_mode?"":"; secure";document.cookie=`${e}=${t}${o}${r}; path=/; SameSite=Lax`}function gi(){return new URLSearchParams(window.location.search).get("q")}function nn(){return!!gi()}var _i={'"':"&quot;","'":"&#39;","&":"&amp;","<":"&lt;",">":"&gt;"};function je(e){return String(e).replace(/["'&<>]/g,t=>_i[t])}function on(){typeof window<"u"&&window.dispatchEvent(new Event("GmixDisabled")),tn("fallback",0)}function rn(){typeof window<"u"&&window.dispatchEvent(new Event("GmixEnabled")),tn("fallback",1)}function sn(){return en().fallback==="1"}function nt(){return en().olnt==="1"}function ln(){let e,t,n;return{disableScroll:()=>{e=window.scrollY,t=document.body.style.position,n=document.body.style.overflow,document.body.style.position="fixed",document.body.style.top=`-${e}px`,document.body.style.overflow="hidden"},enableScroll:()=>{document.body.style.position=t||"",document.body.style.top="",document.body.style.overflow=n||"",window.scrollTo(0,e)}}}var it={};function an(e,t,{delay:n=300}={}){let i=!0,o=0,r=null,s=new IntersectionObserver((l,a)=>{let{time:c,isIntersecting:m}=l[0],u=()=>{t({isVisibleOnInit:i,entry:l[0]})};m&&(i?(a.disconnect(),u()):r=setTimeout(()=>{o===c&&(a.disconnect(),u())},n)),o=c,i=!1});return s.observe(e),()=>{clearTimeout(r),s.disconnect()}}function cn(e){let t,n,i,o,r,s;return{c(){t=_("div"),n=_("img"),d(n,"class",i="img "+(e[2]?"is-loaded":"")+" svelte-z7sgic"),z(n,"will-change","opacity"),Pe(n.src,o=e[4])||d(n,"src",o),d(n,"alt",e[7]),d(t,"class","holder svelte-z7sgic"),z(t,"background-image","url("+e[8]+")"),z(t,"width",e[6]+"px"),z(t,"height",e[5]+"px")},m(l,a){x(l,t,a),p(t,n),e[13](n),r||(s=[G(n,"load",e[9]),G(n,"error",e[10])],r=!0)},p(l,a){a&4&&i!==(i="img "+(l[2]?"is-loaded":"")+" svelte-z7sgic")&&d(n,"class",i),a&16&&!Pe(n.src,o=l[4])&&d(n,"src",o),a&128&&d(n,"alt",l[7]),a&256&&z(t,"background-image","url("+l[8]+")"),a&64&&z(t,"width",l[6]+"px"),a&32&&z(t,"height",l[5]+"px")},d(l){l&&F(t),e[13](null),r=!1,K(s)}}}function wi(e){let t,n=e[3]&&cn(e);return{c(){t=_("div"),n&&n.c(),d(t,"class","image-wrapper svelte-z7sgic")},m(i,o){x(i,t,o),n&&n.m(t,null),e[14](t)},p(i,[o]){i[3]?n?n.p(i,o):(n=cn(i),n.c(),n.m(t,null)):n&&(n.d(1),n=null)},i:U,o:U,d(i){i&&F(t),n&&n.d(),e[14](null)}}}function bi(e){if(!e)return[0,0];if(e.properties.width>1200||e.properties.height>1200){let t=e.properties.width/e.properties.height;return[Math.min(1200,Math.round(1200*t)),Math.min(1200,Math.round(1200/t))]}return[e.properties.width,e.properties.height]}function yi(e,t,n){let i,o,r,s,l,a;function c(){it[o]=!0,n(2,b=!0),a.style.removeProperty("will-change")}function m(g){it[g]=!1,n(2,b=!1)}let{image:u}=t,{shouldDelayLoad:h=!0}=t,f,b=!1,v=!0;it[o]&&(b=!0,v=!0),pe(()=>{if(b||!h)return;let g=an(f,()=>{n(3,v=!0)});return()=>{g()}});function k(g){J[g?"unshift":"push"](()=>{a=g,n(0,a)})}function w(g){J[g?"unshift":"push"](()=>{f=g,n(1,f)})}return e.$$set=g=>{"image"in g&&n(11,u=g.image),"shouldDelayLoad"in g&&n(12,h=g.shouldDelayLoad)},e.$$.update=()=>{if(e.$$.dirty&2048){e:n(8,i=u?u.thumbnail.src:"")}if(e.$$.dirty&2048){e:n(4,o=u?u.properties.resized:"")}if(e.$$.dirty&2048){e:n(7,r=u.title)}if(e.$$.dirty&2048){e:n(6,[s,l]=bi(u),s,(n(5,l),n(11,u)))}},[a,f,b,v,o,l,s,r,i,c,m,u,h,k,w]}var kt=class extends Z{constructor(t){super(),te(this,t,yi,wi,$,{image:11,shouldDelayLoad:12})}},ot=kt;var ze='<svg class="icon" xmlns="http://www.w3.org/2000/svg" width="13" height="12" viewBox="0 0 13 12"><path fill="currentColor" fill-rule="evenodd" d="M12.232 1.844A1.08 1.08 0 0010.704.316L6.548 4.472 2.393.317A1.08 1.08 0 00.865 1.845L5.02 6 .865 10.155a1.08 1.08 0 101.528 1.528l4.155-4.155 4.156 4.156a1.08 1.08 0 101.528-1.528L8.076 6l4.156-4.156z" clip-rule="evenodd"/></svg>';var It='<svg class="icon" width="8" height="15" viewBox="0 0 8 15" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M.8 8.029a1.2 1.2 0 010-1.68L6.527.509a.8.8 0 011.142 1.12l-5.45 5.56 5.45 5.56a.8.8 0 11-1.142 1.12L.8 8.028z"/></svg>';var St='<svg class="icon" width="9" height="15" viewBox="0 0 9 15" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M7.73 6.349a1.2 1.2 0 010 1.68l-5.725 5.84a.8.8 0 01-1.143-1.12l5.451-5.56-5.45-5.56A.8.8 0 112.004.51L7.73 6.35z"/></svg>';function un(e){let t,n,i,o,r,s,l,a=e[0].title+"",c,m,u,h,f,b,v,k,w,g,I=e[0].properties.width+"",C,S,O=e[0].properties.height+"",P,q,E,B=e[4]["View file"]+"",ne,ee,me,N,V,H,Y,se,ve,he,le,We,_e,ie,Q,Fe,Ue,j=e[5]&&fn(e);return{c(){t=_("div"),n=_("div"),i=_("div"),j&&j.c(),o=M(),r=_("div"),s=_("div"),l=_("a"),c=T(a),h=M(),f=_("a"),b=T(e[6]),w=M(),g=_("p"),C=T(I),S=T(" \xD7 "),P=T(O),q=M(),E=_("a"),ne=T(B),N=M(),V=_("div"),H=_("div"),Y=_("div"),se=_("span"),ve=M(),he=_("div"),le=_("span"),We=M(),_e=_("div"),ie=_("span"),d(i,"class","image svelte-c04oor"),d(l,"class","h5 svelte-c04oor"),d(l,"href",m=e[0].url),d(l,"target",u=e[7]===!0?"_blank":"_self"),d(l,"rel","noopener"),d(s,"class","mb-15"),d(f,"href",v="//"+e[6]),d(f,"class","text-sm svelte-c04oor"),d(f,"target",k=e[7]===!0?"_blank":"_self"),d(f,"rel","noopener"),d(g,"class","text-sm text-gray"),d(E,"class","btn svelte-c04oor"),d(E,"href",ee=e[0].properties.url),d(E,"target",me=e[7]===!0?"_blank":"_self"),d(E,"rel","noopener"),d(r,"class","image-details svelte-c04oor"),d(n,"class","image-viewer svelte-c04oor"),d(se,"class","icon-wrapper"),d(Y,"class","btn-round mr-5 svelte-c04oor"),d(le,"class","icon-wrapper"),d(he,"class","btn-round svelte-c04oor"),d(H,"class","navigate svelte-c04oor"),d(ie,"class","icon-wrapper"),d(_e,"class","btn-round svelte-c04oor"),d(V,"class","controls svelte-c04oor"),d(t,"id",e[1]),d(t,"class","wrapper svelte-c04oor"),z(t,"top",e[3]+"px")},m(W,X){x(W,t,X),p(t,n),p(n,i),j&&j.m(i,null),p(n,o),p(n,r),p(r,s),p(s,l),p(l,c),p(r,h),p(r,f),p(f,b),p(r,w),p(r,g),p(g,C),p(g,S),p(g,P),p(r,q),p(r,E),p(E,ne),p(t,N),p(t,V),p(V,H),p(H,Y),p(Y,se),se.innerHTML=It,p(H,ve),p(H,he),p(he,le),le.innerHTML=St,p(V,We),p(V,_e),p(_e,ie),ie.innerHTML=ze,Q=!0,Fe||(Ue=[G(Y,"click",e[9]),G(he,"click",e[10]),G(_e,"click",e[8])],Fe=!0)},p(W,X){W[5]?j?(j.p(W,X),X&32&&R(j,1)):(j=fn(W),j.c(),R(j,1),j.m(i,null)):j&&(oe(),D(j,1,1,()=>{j=null}),re()),(!Q||X&1)&&a!==(a=W[0].title+"")&&L(c,a),(!Q||X&1&&m!==(m=W[0].url))&&d(l,"href",m),(!Q||X&64)&&L(b,W[6]),(!Q||X&64&&v!==(v="//"+W[6]))&&d(f,"href",v),(!Q||X&1)&&I!==(I=W[0].properties.width+"")&&L(C,I),(!Q||X&1)&&O!==(O=W[0].properties.height+"")&&L(P,O),(!Q||X&16)&&B!==(B=W[4]["View file"]+"")&&L(ne,B),(!Q||X&1&&ee!==(ee=W[0].properties.url))&&d(E,"href",ee),(!Q||X&2)&&d(t,"id",W[1]),(!Q||X&8)&&z(t,"top",W[3]+"px")},i(W){Q||(R(j),Q=!0)},o(W){D(j),Q=!1},d(W){W&&F(t),j&&j.d(),Fe=!1,K(Ue)}}}function fn(e){let t,n,i;function o(s){e[12](s)}let r={};return e[0]!==void 0&&(r.image=e[0]),t=new ot({props:r}),J.push(()=>Te(t,"image",o)),{c(){ge(t.$$.fragment)},m(s,l){de(t,s,l),i=!0},p(s,l){let a={};!n&&l&1&&(n=!0,a.image=s[0],Ce(()=>n=!1)),t.$set(a)},i(s){i||(R(t.$$.fragment,s),i=!0)},o(s){D(t.$$.fragment,s),i=!1},d(s){ue(t,s)}}}function Si(e){let t,n,i=e[2]&&un(e);return{c(){i&&i.c(),t=ce()},m(o,r){i&&i.m(o,r),x(o,t,r),n=!0},p(o,[r]){o[2]?i?(i.p(o,r),r&4&&R(i,1)):(i=un(o),i.c(),R(i,1),i.m(t.parentNode,t)):i&&(oe(),D(i,1,1,()=>{i=null}),re())},i(o){n||(R(i),n=!0)},o(o){D(i),n=!1},d(o){i&&i.d(o),o&&F(t)}}}function Fi(e,t,n){let i,o,r=Be(),{id:s}=t,{image:l={}}=t,{isVisible:a=!1}=t,{top:c=0}=t,{i18n:m={}}=t,u=nt(),h=!1,f=!1,b=()=>{r("viewer_hidden")},v=()=>{r("previous")},k=()=>{r("next")};_t(()=>{h?setTimeout(()=>{h=!1},200):n(5,f=!1)}),wt(()=>{h=!0,n(5,f=!0)});function w(g){l=g,n(0,l)}return e.$$set=g=>{"id"in g&&n(1,s=g.id),"image"in g&&n(0,l=g.image),"isVisible"in g&&n(2,a=g.isVisible),"top"in g&&n(3,c=g.top),"i18n"in g&&n(4,m=g.i18n)},e.$$.update=()=>{if(e.$$.dirty&1){e:n(11,i=new URL(l.url))}if(e.$$.dirty&2048){e:n(6,o=i.hostname)}},[l,s,a,c,m,f,o,u,b,v,k,i,w]}var Ft=class extends Z{constructor(t){super(),te(this,t,Fi,Si,$,{id:1,image:0,isVisible:2,top:3,i18n:4})}},dn=Ft;var Ne=[];function xi(e,t){return{subscribe:Ve(e,t).subscribe}}function Ve(e,t=U){let n,i=new Set;function o(l){if($(e,l)&&(e=l,n)){let a=!Ne.length;for(let c of i)c[1](),Ne.push(c,e);if(a){for(let c=0;c<Ne.length;c+=2)Ne[c][0](Ne[c+1]);Ne.length=0}}}function r(l){o(l(e))}function s(l,a=U){let c=[l,a];return i.add(c),i.size===1&&(n=t(o)||U),l(e),()=>{i.delete(c),i.size===0&&(n(),n=null)}}return{set:o,update:r,subscribe:s}}function mn(e,t,n){let i=!Array.isArray(e),o=i?[e]:e,r=t.length<2;return xi(n,s=>{let l=!1,a=[],c=0,m=U,u=()=>{if(c)return;m();let f=t(i?a[0]:a,s);r?s(f):m=Me(f)?f:U},h=o.map((f,b)=>dt(f,v=>{a[b]=v,c&=~(1<<b),l&&u()},()=>{c|=1<<b}));return l=!0,u(),function(){K(h),m()}})}function rt(e){let t=e-1;return t*t*t+1}function hn(e){return Object.prototype.toString.call(e)==="[object Date]"}function xt(e,t){if(e===t||e!==e)return()=>e;let n=typeof e;if(n!==typeof t||Array.isArray(e)!==Array.isArray(t))throw new Error("Cannot interpolate values of different type");if(Array.isArray(e)){let i=t.map((o,r)=>xt(e[r],o));return o=>i.map(r=>r(o))}if(n==="object"){if(!e||!t)throw new Error("Object cannot be null");if(hn(e)&&hn(t)){e=e.getTime(),t=t.getTime();let r=t-e;return s=>new Date(e+s*r)}let i=Object.keys(t),o={};return i.forEach(r=>{o[r]=xt(e[r],t[r])}),r=>{let s={};return i.forEach(l=>{s[l]=o[l](r)}),s}}if(n==="number"){let i=t-e;return o=>e+o*i}throw new Error(`Cannot interpolate ${n} values`)}function Ae(e,t={}){let n=Ve(e),i,o=e;function r(s,l){if(e==null)return n.set(e=s),Promise.resolve();o=s;let a=i,c=!1,{delay:m=0,duration:u=400,easing:h=fe,interpolate:f=xt}=Oe(Oe({},t),l);if(u===0)return a&&(a.abort(),a=null),n.set(e=o),Promise.resolve();let b=mt()+m,v;return i=pt(k=>{if(k<b)return!0;c||(v=f(e,s),typeof u=="function"&&(u=u(e,s)),c=!0),a&&(a.abort(),a=null);let w=k-b;return w>u?(n.set(e=s),!1):(n.set(e=v(h(w/u))),!0)}),i.promise}return{set:r,update:(s,l)=>r(s(o,e),l),subscribe:n.subscribe}}function pn(e){let t,n,i,o,r,s,l,a,c=e[0].source+"",m,u,h,f,b,v,k,w=e[1]["View file"]+"",g,I,C,S;function O(E){e[3](E)}let P={shouldDelayLoad:!1};e[0]!==void 0&&(P.image=e[0]),i=new ot({props:P}),J.push(()=>Te(i,"image",O));let q=e[0].properties&&gn(e);return{c(){t=_("div"),n=_("div"),ge(i.$$.fragment),r=M(),s=_("div"),l=_("div"),a=_("a"),m=T(c),f=M(),b=_("p"),q&&q.c(),v=M(),k=_("a"),g=T(w),d(n,"class","image svelte-rhmndl"),d(t,"class","image-wrapper svelte-rhmndl"),d(a,"href",u=e[0].url),d(a,"target",h=e[2]===!0?"_blank":"_self"),d(a,"rel","noopener"),d(a,"class","svelte-rhmndl"),d(b,"class","text-sm svelte-rhmndl"),d(l,"class","left svelte-rhmndl"),d(k,"class","btn text-sm svelte-rhmndl"),d(k,"href",I=e[0].properties.url),d(k,"target",C=e[2]===!0?"_blank":"_self"),d(k,"rel","noopener"),d(s,"class","image-details svelte-rhmndl")},m(E,B){x(E,t,B),p(t,n),de(i,n,null),x(E,r,B),x(E,s,B),p(s,l),p(l,a),p(a,m),p(l,f),p(l,b),q&&q.m(b,null),p(s,v),p(s,k),p(k,g),S=!0},p(E,B){let ne={};!o&&B&1&&(o=!0,ne.image=E[0],Ce(()=>o=!1)),i.$set(ne),(!S||B&1)&&c!==(c=E[0].source+"")&&L(m,c),(!S||B&1&&u!==(u=E[0].url))&&d(a,"href",u),E[0].properties?q?q.p(E,B):(q=gn(E),q.c(),q.m(b,null)):q&&(q.d(1),q=null),(!S||B&2)&&w!==(w=E[1]["View file"]+"")&&L(g,w),(!S||B&1&&I!==(I=E[0].properties.url))&&d(k,"href",I)},i(E){S||(R(i.$$.fragment,E),S=!0)},o(E){D(i.$$.fragment,E),S=!1},d(E){E&&F(t),ue(i),E&&F(r),E&&F(s),q&&q.d()}}}function gn(e){let t=e[0].properties.width+"",n,i,o=e[0].properties.height+"",r;return{c(){n=T(t),i=T(" \xD7 "),r=T(o)},m(s,l){x(s,n,l),x(s,i,l),x(s,r,l)},p(s,l){l&1&&t!==(t=s[0].properties.width+"")&&L(n,t),l&1&&o!==(o=s[0].properties.height+"")&&L(r,o)},d(s){s&&F(n),s&&F(i),s&&F(r)}}}function Ei(e){let t,n,i=e[0]&&pn(e);return{c(){i&&i.c(),t=ce()},m(o,r){i&&i.m(o,r),x(o,t,r),n=!0},p(o,[r]){o[0]?i?(i.p(o,r),r&1&&R(i,1)):(i=pn(o),i.c(),R(i,1),i.m(t.parentNode,t)):i&&(oe(),D(i,1,1,()=>{i=null}),re())},i(o){n||(R(i),n=!0)},o(o){D(i),n=!1},d(o){i&&i.d(o),o&&F(t)}}}function Oi(e,t,n){let{image:i=null}=t,{i18n:o={}}=t,r=nt();function s(l){i=l,n(0,i)}return e.$$set=l=>{"image"in l&&n(0,i=l.image),"i18n"in l&&n(1,o=l.i18n)},[i,o,r,s]}var Et=class extends Z{constructor(t){super(),te(this,t,Oi,Ei,$,{image:0,i18n:1})}},st=Et;var{window:Ot}=et;function _n(e){let t,n,i,o,r,s,l,a,c,m,u,h;return{c(){t=_("div"),n=_("div"),i=_("div"),o=M(),r=_("div"),s=M(),l=_("div"),a=M(),c=_("div"),m=_("div"),d(i,"class","image-container prev svelte-kd16fp"),d(r,"class","image-container current svelte-kd16fp"),d(l,"class","image-container next svelte-kd16fp"),d(n,"class","image-viewer-window svelte-kd16fp"),z(n,"height",e[7]+"px"),d(m,"class","icon-wrapper"),d(c,"class","btn-round svelte-kd16fp"),d(t,"class","image-viewer svelte-kd16fp")},m(f,b){x(f,t,b),p(t,n),p(n,i),e[28](i),p(n,o),p(n,r),e[29](r),p(n,s),p(n,l),e[30](l),e[31](n),p(t,a),p(t,c),p(c,m),m.innerHTML=ze,e[32](t),u||(h=[G(n,"touchstart",e[16](e[8])),G(n,"touchmove",e[16](e[14])),G(n,"touchend",e[16](e[15])),G(n,"touchcancel",e[16](e[15])),G(c,"click",e[17])],u=!0)},p(f,b){b[0]&128&&z(n,"height",f[7]+"px")},d(f){f&&F(t),e[28](null),e[29](null),e[30](null),e[31](null),e[32](null),u=!1,K(h)}}}function Mi(e){let t,n,i;Ee(e[27]);let o=e[0]&&_n(e);return{c(){o&&o.c(),t=ce()},m(r,s){o&&o.m(r,s),x(r,t,s),n||(i=G(Ot,"resize",e[27]),n=!0)},p(r,s){r[0]?o?o.p(r,s):(o=_n(r),o.c(),o.m(t.parentNode,t)):o&&(o.d(1),o=null)},i:U,o:U,d(r){o&&o.d(r),r&&F(t),n=!1,i()}}}function Pi(e,t,n){let i,o,r,s,l,{disableScroll:a,enableScroll:c}=ln(),m=Be(),{currImage:u=null}=t,{nextImage:h=null}=t,{prevImage:f=null}=t,{isVisible:b=!1}=t,{i18n:v}=t,k,w,g,I,C,S,O,P=!1,q=()=>{f?(g.replaceChildren(),new st({target:g,props:{image:f,i18n:v}})):f||g.replaceChildren(),h?(C.replaceChildren(),new st({target:C,props:{image:h,i18n:v}})):h||C.replaceChildren()};pe(()=>(a(),new st({target:I,props:{image:u,i18n:v}}),q(),()=>{c()}));let E,B,ne=y=>{E=y.changedTouches[0].clientX,B=y.changedTouches[0].clientY},ee=Ae(0,{duration:250,easing:rt});Re(e,ee,y=>n(26,l=y));let me=Ae(0,{duration:250,easing:rt});Re(e,me,y=>n(25,s=y));let N=Ae(1,{duration:75,easing:fe});Re(e,N,y=>n(22,i=y));let V=Ae(0,{duration:1,easing:fe});Re(e,V,y=>n(24,r=y));let H=Ae(0,{duration:1,easing:fe});Re(e,H,y=>n(23,o=y));let Y=!1,se=y=>{if(Y||P)return;let A=y.changedTouches[0].clientX,we=y.changedTouches[0].clientY,ke=Math.abs(A-E);if(Math.abs(we-B)>ke){if(we>B&&i<=1){let Ie=we-B;ae(me,s=Ie,s)}}else{let Ie=A-E;ae(ee,l=Ie,l)}},ve=async y=>{if(P)return;let A=y.changedTouches[0].clientX,we=y.changedTouches[0].clientY,ke=Math.abs(we-B),Ct=Math.abs(A-E);if(ke>O/5?(Y=!0,await me.set(O),X(),Y=!1):ae(me,s=0,s),Ct>S/12){if(_e(),Fe(),E=0,Y=!0,h&&l<0){m("next"),await ee.set(S*-1,{duration:175}),Y=!1;let Ie=[C.querySelector(".image-wrapper").cloneNode(!0),C.querySelector(".image-details").cloneNode(!0)];I.replaceChildren(...C.childNodes),C.replaceChildren(...Ie),q()}else if(f&&l>0){m("previous"),await ee.set(S,{duration:175}),Y=!1;let Ie=[g.querySelector(".image-wrapper").cloneNode(!0),g.querySelector(".image-details").cloneNode(!0)];I.replaceChildren(...g.childNodes),g.replaceChildren(...Ie),q()}else await ee.set(0),Y=!1;await ee.set(0,{duration:0,easing:null}),Y=!1}else ae(ee,l=0,l),_e(),Fe()},he=y=>Math.hypot(y.touches[0].clientX-y.touches[1].clientX,y.touches[0].clientY-y.touches[1].clientY),le=null,We=y=>{if(!le){le=he(y);return}let A=he(y)-le;if(Math.abs(A)<2)return;let we=A>0?"zoomIn":A<0?"zoomOut":"none";le=he(y);let ke=i;we==="zoomIn"?ke+=.3:we==="zoomOut"&&(ke-=.4),ae(N,i=Math.max(ke,1),i)},_e=()=>{le=0,ae(N,i=1,i)},ie=null,Q=y=>{let A={x:y.changedTouches[0].clientX,y:y.changedTouches[0].clientY};if(!ie)return ie=A;ae(V,r+=A.x-ie.x,r),ae(H,o+=A.y-ie.y,o),ie=A},Fe=()=>{ae(V,r=1,r),ae(H,o=1,o),ie=null};var Ue=function(y){var A=y.getBoundingClientRect();return A.top>=10||A.left>=10||A.bottom<=(window.innerHeight||document.documentElement.clientHeight)-10||A.right<=(window.innerWidth||document.documentElement.clientWidth)-10};let j,W=y=>A=>{A.touches.length>1?(j&&clearTimeout(j),A.preventDefault(),P=!0,We(A)):!P&&i>1&&!Ue(I.querySelector("img"))?Q(A):P||y(A),(A.type==="touchend"||A.type==="touchcancel")&&(j=setTimeout(()=>P=!1,100),le=null,ie=null)},X=()=>{m("viewer_hidden")};function Nn(){n(6,S=Ot.innerWidth),n(7,O=Ot.innerHeight)}function An(y){J[y?"unshift":"push"](()=>{g=y,n(3,g),n(2,w),n(26,l),n(1,k),n(25,s),n(5,C),n(6,S),n(4,I),n(22,i),n(24,r),n(23,o)})}function Ln(y){J[y?"unshift":"push"](()=>{I=y,n(4,I)})}function Dn(y){J[y?"unshift":"push"](()=>{C=y,n(5,C),n(2,w),n(26,l),n(1,k),n(25,s),n(3,g),n(6,S),n(4,I),n(22,i),n(24,r),n(23,o)})}function qn(y){J[y?"unshift":"push"](()=>{w=y,n(2,w),n(26,l),n(1,k),n(25,s),n(3,g),n(5,C),n(6,S),n(4,I),n(22,i),n(24,r),n(23,o)})}function Hn(y){J[y?"unshift":"push"](()=>{k=y,n(1,k),n(2,w),n(26,l),n(25,s),n(3,g),n(5,C),n(6,S),n(4,I),n(22,i),n(24,r),n(23,o)})}return e.$$set=y=>{"currImage"in y&&n(18,u=y.currImage),"nextImage"in y&&n(19,h=y.nextImage),"prevImage"in y&&n(20,f=y.prevImage),"isVisible"in y&&n(0,b=y.isVisible),"i18n"in y&&n(21,v=y.i18n)},e.$$.update=()=>{if(e.$$.dirty[0]&130023550){e:if(w&&n(2,w.style.transform=`translate3d(${l}px, 0, 0)`,w),k&&n(1,k.style.transform=`translate3d(0, ${s}px, 0)`,k),g&&C&&(n(3,g.style.transform=`translate3d(-${S}px, 0, 0)`,g),n(5,C.style.transform=`translate3d(${S}px, 0, 0)`,C)),I){let y=i>1?1e5:"auto",A=I.querySelector(".image-wrapper").style;A.setProperty("transform",`translate3d(${r}px, ${o}px, 0) scale(${i})`),A.setProperty("z-index",y)}}},[b,k,w,g,I,C,S,O,ne,ee,me,N,V,H,se,ve,W,X,u,h,f,v,i,o,r,s,l,Nn,An,Ln,Dn,qn,Hn]}var Mt=class extends Z{constructor(t){super(),te(this,t,Pi,Mi,$,{currImage:18,nextImage:19,prevImage:20,isVisible:0,i18n:21},null,[-1,-1])}},wn=Mt;function bn(e,{delay:t=0,duration:n=400,easing:i=fe}={}){let o=+getComputedStyle(e).opacity;return{delay:t,duration:n,easing:i,css:r=>`opacity: ${r*o}`}}function yn(e){let t,n,i,o,r,s,l,a;function c(f,b){if(f[2]==="bad-results")return Ci;if(f[2]==="search-elsewhere")return Ri}let m=c(e,-1),u=m&&m(e),h=e[7]&&e[0]&&kn(e);return{c(){t=_("div"),n=_("div"),i=_("div"),i.innerHTML=`<img class="theme--dark svelte-huit18" src="https://cdn.search.brave.com/serp/v1/static/img/1588b881ec94d6f18b4fdfb8938877392f944fa807caf0f4796115a03d5d8185-graphic-alt-results-dark.svg" alt=""/> 
        <img class="theme--light svelte-huit18" src="https://cdn.search.brave.com/serp/v1/static/img/d71adfde6449b703ffac8da3044a26944e10e850162bc5c0786f70a66e8c7315-graphic-alt-results-light.svg" alt=""/>`,o=M(),r=_("div"),u&&u.c(),s=M(),h&&h.c(),d(i,"id","snippet-thumb"),d(i,"class","svelte-huit18"),d(r,"id","desc"),d(r,"class","svelte-huit18"),d(n,"class","flex-hcenter"),d(t,"class","panel svelte-huit18")},m(f,b){x(f,t,b),p(t,n),p(n,i),p(n,o),p(n,r),u&&u.m(r,null),p(t,s),h&&h.m(t,null),a=!0},p(f,b){m===(m=c(f,b))&&u?u.p(f,b):(u&&u.d(1),u=m&&m(f),u&&(u.c(),u.m(r,null))),f[7]&&f[0]?h?h.p(f,b):(h=kn(f),h.c(),h.m(t,null)):h&&(h.d(1),h=null)},i(f){a||(l&&l.end(1),a=!0)},o(f){l=Ut(t,bn,{}),a=!1},d(f){f&&F(t),u&&u.d(),h&&h.d(),f&&l&&l.end()}}}function Ri(e){let t,n=e[4]["bad-results-for-query-{query}"].replace("{query}",je(e[3]))+"",i;return{c(){t=new Ke(!1),i=ce(),t.a=i},m(o,r){t.m(n,o,r),x(o,i,r)},p(o,r){r&24&&n!==(n=o[4]["bad-results-for-query-{query}"].replace("{query}",je(o[3]))+"")&&t.p(n)},d(o){o&&F(i),o&&t.d()}}}function Ci(e){let t=e[4]["bad-results-header"]+"",n,i,o,r=je(e[3])+"",s,l,a,c,m=e[4]["Try more general keywords"]+"",u,h,f,b=e[4]["Try fewer keywords"]+"",v,k,w=e[1]&&vn(e);return{c(){n=T(t),i=M(),o=_("strong"),s=T(r),l=M(),a=_("ul"),c=_("li"),u=T(m),h=M(),f=_("li"),v=T(b),k=M(),w&&w.c(),d(a,"class","svelte-huit18")},m(g,I){x(g,n,I),x(g,i,I),x(g,o,I),p(o,s),x(g,l,I),x(g,a,I),p(a,c),p(c,u),p(a,h),p(a,f),p(f,v),p(a,k),w&&w.m(a,null)},p(g,I){I&16&&t!==(t=g[4]["bad-results-header"]+"")&&L(n,t),I&8&&r!==(r=je(g[3])+"")&&L(s,r),I&16&&m!==(m=g[4]["Try more general keywords"]+"")&&L(u,m),I&16&&b!==(b=g[4]["Try fewer keywords"]+"")&&L(v,b),g[1]?w?w.p(g,I):(w=vn(g),w.c(),w.m(a,null)):w&&(w.d(1),w=null)},d(g){g&&F(n),g&&F(i),g&&F(o),g&&F(l),g&&F(a),w&&w.d()}}}function vn(e){let t,n=e[4]["Try other Goggles"]+"",i;return{c(){t=_("li"),i=T(n)},m(o,r){x(o,t,r),p(t,i)},p(o,r){r&16&&n!==(n=o[4]["Try other Goggles"]+"")&&L(i,n)},d(o){o&&F(t)}}}function kn(e){let t,n,i,o,r,s,l,a=e[4]["Enable Google Fallback Mixing"]+"",c,m,u,h=e[4]["serp-fallback-cta-desc"]+"",f,b,v,k=e[4]["Learn more"]+"",w,g,I,C,S=e[2]!=="search-elsewhere"&&In(e);return{c(){t=_("div"),n=_("div"),i=_("label"),o=_("input"),r=M(),s=_("i"),l=M(),c=T(a),m=M(),u=_("p"),f=T(h),b=M(),v=_("a"),w=T(k),g=M(),S&&S.c(),d(o,"type","checkbox"),d(s,"class","form-icon"),d(i,"class","form-switch"),d(n,"class","form-group"),d(v,"class","btn--text svelte-huit18"),d(v,"href","/help/google-fallback"),d(u,"class","text-sm"),d(t,"id","fallbackPermission"),d(t,"class","svelte-huit18")},m(O,P){x(O,t,P),p(t,n),p(n,i),p(i,o),o.checked=e[5],p(i,r),p(i,s),p(i,l),p(i,c),p(t,m),p(t,u),p(u,f),p(u,b),p(u,v),p(v,w),p(u,g),S&&S.m(u,null),I||(C=[G(o,"change",e[12]),G(o,"click",e[9])],I=!0)},p(O,P){P&32&&(o.checked=O[5]),P&16&&a!==(a=O[4]["Enable Google Fallback Mixing"]+"")&&L(c,a),P&16&&h!==(h=O[4]["serp-fallback-cta-desc"]+"")&&L(f,h),P&16&&k!==(k=O[4]["Learn more"]+"")&&L(w,k),O[2]!=="search-elsewhere"?S?S.p(O,P):(S=In(O),S.c(),S.m(u,null)):S&&(S.d(1),S=null)},d(O){O&&F(t),S&&S.d(),I=!1,K(C)}}}function In(e){let t,n=e[4].Dismiss+"",i,o,r;return{c(){t=_("button"),i=T(n),d(t,"id","dismissPermission"),d(t,"class","ml-10 btn--text svelte-huit18")},m(s,l){x(s,t,l),p(t,i),o||(r=G(t,"click",e[10]),o=!0)},p(s,l){l&16&&n!==(n=s[4].Dismiss+"")&&L(i,n)},d(s){s&&F(t),o=!1,r()}}}function Ti(e){let t,n,i=e[6]&&e[8]&&yn(e);return{c(){i&&i.c(),t=ce()},m(o,r){i&&i.m(o,r),x(o,t,r),n=!0},p(o,[r]){o[6]&&o[8]?i?(i.p(o,r),r&64&&R(i,1)):(i=yn(o),i.c(),R(i,1),i.m(t.parentNode,t)):i&&(oe(),D(i,1,1,()=>{i=null}),re())},i(o){n||(R(i),n=!0)},o(o){D(i),n=!1},d(o){i&&i.d(o),o&&F(t)}}}function Ni(e,t,n){let{isFallbackAvailable:i}=t,{isBrave:o}=t,{isGoggles:r}=t,{reason:s}=t,{query:l}=t,{i18n:a}=t,c=sn(),m=!0,u=nn(),h=parseInt(localStorage.getItem("app.fallbackPermissionDismissCount"))||0,f=o&&h<3&&!c;function b(){c?on():rn(),location.reload()}function v(){h+=1,localStorage.setItem("app.fallbackPermissionDismissCount",h),n(6,m=!1),n(7,f=!1),window.dispatchEvent(new Event("GmixDismissed"))}pe(()=>{m&&f&&i&&window.dispatchEvent(new Event("GmixShown"))});function k(){c=this.checked,n(5,c)}return e.$$set=w=>{"isFallbackAvailable"in w&&n(0,i=w.isFallbackAvailable),"isBrave"in w&&n(11,o=w.isBrave),"isGoggles"in w&&n(1,r=w.isGoggles),"reason"in w&&n(2,s=w.reason),"query"in w&&n(3,l=w.query),"i18n"in w&&n(4,a=w.i18n)},[i,r,s,l,a,c,m,f,u,b,v,o,k]}var Pt=class extends Z{constructor(t){super(),te(this,t,Ni,Ti,$,{isFallbackAvailable:0,isBrave:11,isGoggles:1,reason:2,query:3,i18n:4})}},Sn=Pt;var Fn=Ve(window.location.href),Ai=history.pushState,Li=history.replaceState;function lt(){Fn.set(window.location.href)}history.pushState=function(){Ai.apply(this,arguments),lt()};history.replaceState=function(){Li.apply(this,arguments),lt()};window.addEventListener("popstate",lt);window.addEventListener("hashchange",lt);var ye={subscribe:mn(Fn,e=>new URL(e)).subscribe,reset:()=>history.replaceState({},null,"#"),updateHashValue:e=>history.replaceState({},null,`#${e}`),hasValue:e=>window.location.search.includes(`${e}=`),setValue:(e,t,n=!1)=>{let i=new URLSearchParams(window.location.search);i.set(e,t),n?history.replaceState({},"",`?${i.toString()}`):history.pushState({},"",`?${i.toString()}`)},setValues:e=>{let t=new URLSearchParams(window.location.search);for(let[n,i]of e)t.set(n,i);history.pushState({},"",`?${t.toString()}`)},set:({add:e=[],remove:t=[]},n=!1)=>{let i=new URLSearchParams(window.location.search);for(let[o,r]of e)i.set(o,r);for(let o of t)i.delete(o);n?history.replaceState({},"",`?${i.toString()}`):history.pushState({},"",`?${i.toString()}`)},getValue:(e,t)=>{let n=new URLSearchParams(window.location.search);return n.has(e)?n.get(e):t}};var{window:Di}=et;function xn(e,t,n){let i=e.slice();return i[27]=t[n],i[29]=n,i}function En(e){let t,n,i,o,r;return n=new Sn({props:{reason:"bad-results",isFallbackAvailable:!1,query:e[1],i18n:e[0]}}),{c(){t=_("div"),ge(n.$$.fragment),i=M(),o=_("p"),d(t,"class","container-80 svelte-173fezi"),d(t,"id","no-results")},m(s,l){x(s,t,l),de(n,t,null),p(t,i),p(t,o),r=!0},p(s,l){let a={};l&2&&(a.query=s[1]),l&1&&(a.i18n=s[0]),n.$set(a)},i(s){r||(R(n.$$.fragment,s),r=!0)},o(s){D(n.$$.fragment,s),r=!1},d(s){s&&F(t),ue(n)}}}function On(e){let t,n,i=e[5].boxes,o=[];for(let s=0;s<i.length;s+=1)o[s]=Mn(xn(e,i,s));let r=s=>D(o[s],1,1,()=>{o[s]=null});return{c(){t=_("div");for(let s=0;s<o.length;s+=1)o[s].c();d(t,"class","justified svelte-173fezi"),z(t,"width",e[2].containerWidth)},m(s,l){x(s,t,l);for(let a=0;a<o.length;a+=1)o[a].m(t,null);n=!0},p(s,l){if(l&264560){i=s[5].boxes;let a;for(a=0;a<i.length;a+=1){let c=xn(s,i,a);o[a]?(o[a].p(c,l),R(o[a],1)):(o[a]=Mn(c),o[a].c(),R(o[a],1),o[a].m(t,null))}for(oe(),a=i.length;a<o.length;a+=1)r(a);re()}(!n||l&4)&&z(t,"width",s[2].containerWidth)},i(s){if(!n){for(let l=0;l<i.length;l+=1)R(o[l]);n=!0}},o(s){o=o.filter(Boolean);for(let l=0;l<o.length;l+=1)D(o[l]);n=!1},d(s){s&&F(t),zt(o,s)}}}function Mn(e){let t,n,i,o,r,s=e[4][e[29]].title+"",l,a,c,m=e[4][e[29]].source+"",u,h,f,b,v,k,w,g,I=[e[4][e[29]].thumbnail,{width:e[4][e[29]].properties.width},{height:e[4][e[29]].properties.height},{selected:e[29]===e[6]},{idx:e[29]}],C={};for(let O=0;O<I.length;O+=1)C=Oe(C,I[O]);n=new $t({props:C});function S(){return e[19](e[29])}return{c(){t=_("div"),ge(n.$$.fragment),i=M(),o=_("a"),r=_("span"),l=T(s),a=M(),c=_("span"),u=T(m),f=M(),d(r,"class","img-title text-ellipsis svelte-173fezi"),d(c,"class","img-source text-ellipsis svelte-173fezi"),d(o,"href",h=e[4][e[29]].url),d(o,"class","img-url svelte-173fezi"),d(t,"id",b=`img-${e[29]}`),d(t,"class","box svelte-173fezi"),d(t,"style",v=e[11](e[27])),gt(t,"is-active",e[29]===e[6]&&e[8])},m(O,P){x(O,t,P),de(n,t,null),p(t,i),p(t,o),p(o,r),p(r,l),p(o,a),p(o,c),p(c,u),p(t,f),k=!0,w||(g=G(t,"click",S),w=!0)},p(O,P){e=O;let q=P&80?Gt(I,[P&16&&Yt(e[4][e[29]].thumbnail),P&16&&{width:e[4][e[29]].properties.width},P&16&&{height:e[4][e[29]].properties.height},P&64&&{selected:e[29]===e[6]},I[4]]):{};n.$set(q),(!k||P&16)&&s!==(s=e[4][e[29]].title+"")&&L(l,s),(!k||P&16)&&m!==(m=e[4][e[29]].source+"")&&L(u,m),(!k||P&16&&h!==(h=e[4][e[29]].url))&&d(o,"href",h),(!k||P&32&&v!==(v=e[11](e[27])))&&d(t,"style",v),P&320&&gt(t,"is-active",e[29]===e[6]&&e[8])},i(O){k||(R(n.$$.fragment,O),k=!0)},o(O){D(n.$$.fragment,O),k=!1},d(O){O&&F(t),ue(n),w=!1,g()}}}function Pn(e){let t,n,i,o,r=[Hi,qi],s=[];function l(a,c){return a[10]?0:1}return t=l(e,-1),n=s[t]=r[t](e),{c(){n.c(),i=ce()},m(a,c){s[t].m(a,c),x(a,i,c),o=!0},p(a,c){n.p(a,c)},i(a){o||(R(n),o=!0)},o(a){D(n),o=!1},d(a){s[t].d(a),a&&F(i)}}}function qi(e){let t,n,i;function o(s){e[20](s)}let r={id:Cn,top:e[9],isVisible:e[8],i18n:e[0]};return e[7]!==void 0&&(r.image=e[7]),t=new dn({props:r}),J.push(()=>Te(t,"image",o)),t.$on("viewer_hidden",e[12]),t.$on("previous",e[13]),t.$on("next",e[14]),{c(){ge(t.$$.fragment)},m(s,l){de(t,s,l),i=!0},p(s,l){let a={};l&512&&(a.top=s[9]),l&256&&(a.isVisible=s[8]),l&1&&(a.i18n=s[0]),!n&&l&128&&(n=!0,a.image=s[7],Ce(()=>n=!1)),t.$set(a)},i(s){i||(R(t.$$.fragment,s),i=!0)},o(s){D(t.$$.fragment,s),i=!1},d(s){ue(t,s)}}}function Hi(e){let t,n;return t=new wn({props:{isVisible:e[8],currImage:e[7],prevImage:e[4][e[6]-1],nextImage:e[4][e[6]+1],i18n:e[0]}}),t.$on("viewer_hidden",e[12]),t.$on("previous",e[15]),t.$on("next",e[16]),{c(){ge(t.$$.fragment)},m(i,o){de(t,i,o),n=!0},p(i,o){let r={};o&256&&(r.isVisible=i[8]),o&128&&(r.currImage=i[7]),o&80&&(r.prevImage=i[4][i[6]-1]),o&80&&(r.nextImage=i[4][i[6]+1]),o&1&&(r.i18n=i[0]),t.$set(r)},i(i){n||(R(t.$$.fragment,i),n=!0)},o(i){D(t.$$.fragment,i),n=!1},d(i){ue(t,i)}}}function Bi(e){let t,n,i,o,r,s,l,a,c=e[3]===!0&&e[4].length===0&&En(e),m=e[5]&&On(e),u=e[8]&&Pn(e);return{c(){t=_("div"),c&&c.c(),n=M(),m&&m.c(),i=M(),u&&u.c(),o=M(),r=_("span"),d(t,"id","img-holder"),z(r,"display","none"),d(r,"class","is-active svelte-173fezi")},m(h,f){x(h,t,f),c&&c.m(t,null),p(t,n),m&&m.m(t,null),x(h,i,f),u&&u.m(h,f),x(h,o,f),x(h,r,f),s=!0,l||(a=G(Di,"keydown",e[17]),l=!0)},p(h,[f]){h[3]===!0&&h[4].length===0?c?(c.p(h,f),f&24&&R(c,1)):(c=En(h),c.c(),R(c,1),c.m(t,n)):c&&(oe(),D(c,1,1,()=>{c=null}),re()),h[5]?m?(m.p(h,f),f&32&&R(m,1)):(m=On(h),m.c(),R(m,1),m.m(t,null)):m&&(oe(),D(m,1,1,()=>{m=null}),re()),h[8]?u?(u.p(h,f),f&256&&R(u,1)):(u=Pn(h),u.c(),R(u,1),u.m(o.parentNode,o)):u&&(oe(),D(u,1,1,()=>{u=null}),re())},i(h){s||(R(c),R(m),R(u),s=!0)},o(h){D(c),D(m),D(u),s=!1},d(h){h&&F(t),c&&c.d(),m&&m.d(),h&&F(i),u&&u.d(h),h&&F(o),h&&F(r),l=!1,a()}}}var Se="img",Cn="image-viewer";function ji({top:e,smooth:t}){let n={left:0,top:e};t===!0&&(n.behavior="smooth"),window.scrollTo(n)}function zi(e,t,n){let{i18n:i}=t,{is_mobile:o,q:r}=JSON.parse(document.getElementById("js-imgtab").getAttribute("data")),s=document.getElementById("searchbox"),l=r,a={containerWidth:1e3,targetRowHeight:o?120:160,boxSpacing:{horizontal:10,vertical:60}},c=!1,m=[],u,h,f=-1,b,v=!1,k=0,w=0,g=N=>`width: ${N.width}px; height: ${N.height}px; margin-right: 5px; margin-left: 5px; margin-bottom: 60px;`,I=()=>{ye.set({remove:[Se]})},C=()=>{f>0&&ye.setValue(Se,f-1,!0)},S=()=>{f<m.length-1&&ye.setValue(Se,f+1,!0)},O=()=>{f>0&&(n(6,f=f-1),n(7,b=m[f]),ye.setValue(Se,f,!0))},P=()=>{f<m.length-1&&(n(6,f=f+1),n(7,b=m[f]),ye.setValue(Se,f,!0))},q=N=>{if(s===document.activeElement)return;let V=N.key;V==="ArrowRight"?(N.preventDefault(),v?S():(n(6,f=Math.min(f+1,m.length-1)),ne())):V==="ArrowLeft"?(N.preventDefault(),v?C():(n(6,f=Math.max(f-1,0)),ne())):V==="Enter"&&E(f)},E=N=>{N===f&&v?I():ye.setValue(Se,N,v)},B=N=>{let H=new URLSearchParams(N.search).get(Se);if(H!==null){if(H=parseInt(H,10),H===f&&v)return;n(6,f=H),n(7,b=m[f]),n(8,v=!0)}else n(8,v=!1),n(7,b=void 0);ne()},ne=(N=!0)=>{if(!o){let V=document.getElementById(`img-${f}`);if(!V){v&&f>=0&&setTimeout(()=>ne(!1),0);return}let H=V.offsetTop,Y=+V.style.height.split("px")[0],se=H+200+30+Y;if(v&&!w){let ve=document.getElementById(Cn);ve&&(w=ve.offsetHeight)}v&&k&&H>k&&(se-=w,H-=w),ji({top:H+60,smooth:N}),n(9,k=se)}};pe(async()=>{let N=new URLSearchParams(window.location.search),H=await(await fetch(`/api/images?${N.toString()}`)).json();n(1,l=H.query.original),n(4,m=H.results),n(3,c=!0),u=m.map(se=>se.thumbnail);let Y=document.getElementById("img-holder");return n(2,a.containerWidth=Y.clientWidth-5,a),n(5,h=(0,Rn.default)(u,a)),ye.subscribe(B)});let ee=N=>E(N);function me(N){b=N,n(7,b)}return e.$$set=N=>{"i18n"in N&&n(0,i=N.i18n)},[i,l,a,c,m,h,f,b,v,k,o,g,I,C,S,O,P,q,E,ee,me]}var Rt=class extends Z{constructor(t){super(),te(this,t,zi,Bi,$,{i18n:0})}},Tn=Rt;var Vi=JSON.parse(document.getElementById("js-shared").getAttribute("data")),Wi=JSON.parse(document.getElementById("js-imgtab").getAttribute("data")),Ui={...Vi.i18n,...Wi.i18n},Ur=new Tn({target:document.getElementById("img-results"),props:{i18n:Ui}});})();
/*!
 * Copyright 2019 SmugMug, Inc.
 * Licensed under the terms of the MIT license. Please see LICENSE file in the project root for terms.
 * @license
 */
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
